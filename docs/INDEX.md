# **Trans-Hub 文档库**

欢迎来到 `Trans-Hub` 的官方文档库。本库旨在为不同类型的读者——无论是初次使用的用户、希望贡献代码的开发者，还是项目的核心维护者——提供清晰、准确且易于查找的信息。

## **文档结构与设计哲学**

我们的文档库遵循**基于受众和目的**的设计原则进行组织。这意味着每个目录和文件都有其明确的目标读者和内容范围，以最大限度地减少信息重叠，并确保“单一事实来源”。

以下是本文档库的顶级目录结构及其职责说明：

- **`/guides`**: **面向用户**。提供一系列从浅入深的实践指南，帮助用户快速上手并解决实际问题。
- **`/api`**: **面向所有开发者**。提供关于 `Trans-Hub` 所有公共 API、核心数据类型和接口的权威、详尽的参考。这是代码的“字典”。
- **`/architecture`**: **面向核心维护者和高级用户**。深入剖析系统的内部工作原理、设计决策和数据模型。
- **`/contributing`**: **面向贡献者**。提供成为项目贡献者所需的所有信息，例如如何开发一个新的翻译引擎。

---

## **文档导航**

### **1. 指南 (Guides)**

如果您是 `Trans-Hub` 的新用户，或者想了解如何使用特定功能，请从这里开始。

- **[指南 1：快速入门](./guides/01_quickstart.md)**

  - **内容**: 最精简的上手教程。指导您在 5 分钟内完成从安装到运行第一个**异步**翻译任务的全过程，并体验智能缓存。
  - **目标读者**: 所有人，特别是初次接触 `Trans-Hub` 的用户。

- **[指南 2：高级用法](./guides/02_advanced_usage.md)**
  - **内容**: 一系列高级功能的“代码食谱”，包括：
    - **(核心)** 如何通过 `business_id` 和 `context` 实现精确的来源追踪和情境翻译。
    - 如何**轻松激活** OpenAI 等高级翻译引擎。
    - 如何使用垃圾回收（GC）管理数据生命周期。
    - 如何配置速率限制器（Rate Limiter）。
    - 如何在 **FastAPI** 等现代 Web 框架中高效地集成 `Trans-Hub`。
  - **目标读者**: 希望在实际项目中充分利用 `Trans-Hub` 功能的开发者。

---

### **2. API 参考 (API Reference)**

这里是 `Trans-Hub` 所有公共接口和数据结构的权威定义。当您需要确切了解某个函数、类或参数的细节时，请查阅此部分。

- **[核心类型 (Core Types)](./api/core_types.md)**

  - **内容**: 对 `trans_hub.types` 模块中所有核心数据传输对象（DTOs）的详细说明，如 `TranslationResult`, `EngineSuccess` 等。
  - **目标读者**: 所有开发者。

- **[`Coordinator` API](./api/coordinator.md)**

  - **内容**: `Coordinator` 类的每个公共方法（如 `request`, `process_pending_translations`）的详细描述、参数和用法。
  - **目标读者**: 所有用户和开发者。

- **[`PersistenceHandler` 接口](./api/persistence_handler.md)**
  - **内容**: `PersistenceHandler` 协议中定义的所有异步方法的契约，为实现自定义存储后端提供指导。
  - **目标读者**: 希望实现自定义存储后端的开发者。

---

### **3. 架构 (Architecture)**

如果您想深入了解 `Trans-Hub` 的“引擎盖下”是如何工作的，这里是您的最佳选择。

- **[架构概述](./architecture/01_overview.md)**

  - **内容**: 对系统设计理念、组件（Coordinator, Engine, Persistence）交互和核心工作流的高层描述。
  - **目标读者**: 核心维护者和高级用户。

- **[数据模型与数据库设计](./architecture/02_data_model.md)**
  - **内容**: 对数据库 Schema（`th_content`, `th_translations`, `th_sources` 等表）的权威、详尽的说明，包括**字段定义、关系和性能优化规范（如索引要求）**。
  - **目标读者**: 核心维护者、数据库管理员和高级贡献者。

---

### **4. 贡献 (Contributing)**

欢迎您为 `Trans-Hub` 社区做出贡献！

- **[指南：开发第三方引擎](./contributing/developing_engines.md)**
  - **内容**: 一份完整的、手把手的指南，教您如何为 `Trans-Hub` 开发一个新的翻译引擎，其中包含了**必须遵循的核心开发模式**。
  - **目标读者**: 社区开发者和贡献者。

---

## **文档编写规范**

为了保持文档库的一致性和高质量，所有未来的文档编写都应遵循以下原则：

1.  **遵循既定结构**: 新的文档应根据其内容和目标读者，放置在上述四个目录之一。
2.  **保持单一事实来源**: API 和架构的定义应始终位于 `/api` 和 `/architecture` 目录。其他文档应**链接**到它们，而不是重复内容。
3.  **提供可运行的示例**: 在 `/guides` 中提供的代码示例应尽可能完整和可直接运行。
4.  **更新变更日志**: 对代码或文档的重大变更，都应在项目根目录的 `CHANGELOG.md` 中进行记录。
