# ==============================================================================
#  Trans-Hub 示例配置文件 (.env.example) - v3.25
# ==============================================================================
#
# 使用说明：
# 1. 将此文件复制或重命名为 .env
# 2. 根据您的需求，取消注释并修改下面的值。
# 3. Trans-Hub 启动时会自动从 .env 文件或环境变量加载这些配置。
#
# ==============================================================================

# ------------------------------------------------------------------------------
#  核心配置 (Core)
# ------------------------------------------------------------------------------
# 数据库连接 URL。
# 选择其中一个：SQLite 或 PostgreSQL。

# --- SQLite (默认) ---
# 用于本地开发、测试和小型项目。
# 对于生产环境，推荐使用绝对路径，例如: "sqlite:////var/data/transhub.db"
TH_DATABASE_URL="sqlite:///transhub.db"

# --- PostgreSQL (生产环境推荐) ---
# 要在生产环境中使用 PostgreSQL，或者要在本地运行 PostgreSQL 集成测试，
# 请注释掉上面的 SQLite URL，并取消下面一行的注释，替换为您的数据库连接信息。
# 格式: postgresql://[user[:password]@][host][:port][/database_for_creating_test_dbs]
#
# 注意：测试会自动创建和销毁临时的 'test_db_...' 数据库。
#      因此，这里提供的数据库用户需要有 CREATEDB 权限。
#      DSN 中指定的数据库（如此处的 'postgres'）仅用于初始连接。
#
# TH_DATABASE_URL="postgresql://user:password@localhost:5432/postgres"


# 默认的源语言代码 (例如 'en', 'zh-CN')。如果引擎需要，则必须提供。
# TH_SOURCE_LANG="en"

# 默认激活的翻译引擎。可用值: "debug", "translators", "openai"。
# TH_ACTIVE_ENGINE="translators"

# 单次从数据库获取任务进行处理的最大批次大小。
# TH_BATCH_SIZE=50

# 垃圾回收（GC）保留未被访问源记录的天数。
# TH_GC_RETENTION_DAYS=90


# ------------------------------------------------------------------------------
#  缓存配置 (Cache)
# ------------------------------------------------------------------------------
# 缓存类型，可以是 'ttl' (基于时间过期) 或 'lru' (基于最近最少使用)。
# TH_CACHE_CONFIG__CACHE_TYPE="ttl"

# 缓存的最大条目数。
# TH_CACHE_CONFIG__MAXSIZE=1000

# 当 cache_type 为 'ttl' 时，缓存条目的存活时间（秒）。
# TH_CACHE_CONFIG__TTL=3600


# ------------------------------------------------------------------------------
#  重试策略配置 (Retry Policy)
# ------------------------------------------------------------------------------
# 任务失败后的最大重试次数。
# TH_RETRY_POLICY__MAX_ATTEMPTS=2

# 首次重试的初始等待时间（秒）。
# TH_RETRY_POLICY__INITIAL_BACKOFF=1.0

# 重试等待时间的最大上限（秒），以防止无限指数增长。
# TH_RETRY_POLICY__MAX_BACKOFF=60.0


# ------------------------------------------------------------------------------
#  日志配置 (Logging)
# ------------------------------------------------------------------------------
# 日志级别，例如 "DEBUG", "INFO", "WARNING", "ERROR"。
# TH_LOGGING__LEVEL="INFO"

# 日志输出格式，'console' 用于开发环境（带颜色），'json' 用于生产环境。
# TH_LOGGING__FORMAT="console"


# ==============================================================================
#  引擎特定配置 (Engine-Specific)
# ==============================================================================
# 注意：这些配置由对应的引擎配置模型自动加载。

# ------------------------------------------------------------------------------
#  OpenAI 引擎 (前缀: TH_OPENAI_)
# ------------------------------------------------------------------------------
# [必需] 你的 OpenAI 兼容 API 的地址。
# TH_OPENAI_ENDPOINT="https://api.openai.com/v1"

# [必需] 你的 API 密钥。
# TH_OPENAI_API_KEY="sk-your-secret-key-here"

# [可选] 你希望使用的模型名称。
# TH_OPENAI_MODEL="gpt-4o"

# [可选] API 调用的温度参数，控制创造性。
# TH_OPENAI_TEMPERATURE=0.1

# [可选] HTTP 客户端的总超时时间（秒）。
# TH_OPENAI_TIMEOUT_TOTAL=30.0

# [可选] HTTP 客户端的连接超时时间（秒）。
# TH_OPENAI_TIMEOUT_CONNECT=5.0

# [可选] OpenAI 客户端在失败时自动重试的次数。
# TH_OPENAI_MAX_RETRIES=2


# ------------------------------------------------------------------------------
#  Translators 引擎 (前缀: TH_TRANSLATORS_)
# ------------------------------------------------------------------------------
# [可选] translators 库使用的默认翻译服务商。
# TH_TRANSLATORS_PROVIDER="google"


# ------------------------------------------------------------------------------
#  Debug 引擎 (前缀: TH_DEBUG_)
# ------------------------------------------------------------------------------
# [可选] Debug 引擎的运行模式。可以是 "SUCCESS", "FAIL"。
# TH_DEBUG_MODE="SUCCESS"

# [可选] 当遇到此文本时，引擎将模拟失败。
# TH_DEBUG_FAIL_ON_TEXT="fail me"

# [可选] Debug引擎模拟的失败是否可重试。
# TH_DEBUG_FAIL_IS_RETRYABLE=true