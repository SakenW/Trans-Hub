Trans-Hub 项目核心开发准则
这份清单是项目的“法律”，适用于任何参与者，应被正式记录在项目的贡献指南中 (例如 CONTRIBUTING.md)。
一、 语言与代码风格
注释、文档字符串(Docstrings)和日志信息必须使用中文。
变量、函数、类名等代码标识符必须使用英文并遵循 PEP 8。
日志信息、用户可见的错误信息等所有运行时输出必须使用中文。
代码格式化必须通过 ruff format 命令自动完成。
代码质量必须通过 ruff check 命令的全部检查。
所有新代码必须添加完整的类型注解并通过 mypy 静态检查。
每个 .py 文件首行必须添加标识其完整路径的注释 (例如 # trans_hub/coordinator.py)。
文档字符串(Docstrings)只描述模块当前功能，变更历史记录在 Git 提交信息中。
二、 Git 与版本控制
Git 提交信息必须遵循约定式提交 (Conventional Commits) 规范 (例如 feat:, fix:, docs:, refactor:)。
每个提交都应是原子化的，只包含一个逻辑变更。
项目严格遵循语义化版本 (SemVer 2.0.0) 规范。
三、 架构与设计
严格遵循单一职责原则 (SRP)，每个模块、类、函数只做一件事。
核心逻辑必须依赖抽象 (Protocol)，而非具体实现 (依赖倒置原则 DIP)。
严禁对配置项进行硬编码，所有配置必须在 config.py 中定义。
核心库代码必须是纯异步的，任何阻塞 IO 都必须用 asyncio.to_thread 包装。
任何数据库 Schema 的变更都必须通过创建新的、独立的迁移脚本 (migrations/) 来实现。
【新增】必须定义并使用自定义异常来处理可预见的错误情况，以提供更清晰的错误上下文。
四、 测试
所有新功能或 Bug 修复都必须附带相应的单元或集成测试。
测试的唯一职责是验证核心代码，严禁在测试代码中实现任何业务逻辑或“变通”修复。
测试中必须模拟所有外部服务（如 API 调用），以保证测试的稳定性和速度。
测试应关注“行为”，而非验证内部“实现细节”。
五、 依赖与安全
严禁在代码库中提交任何密钥、密码或其他敏感凭证。
添加新的第三方依赖时，必须优先选择社区活跃、维护良好的库。